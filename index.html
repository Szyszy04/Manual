<!DOCTYPE html>
<html lang="pl">

<head>
    <meta author="Wiktor">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biblioteka</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>

<body>
    <div id="app">
        <!-- Ekran startowy -->
        <div v-if="currentScreen === 'start'" class="screen">
            <div class="container">
                <h1>Biblioteka</h1>
                <div class="secondary-actions">
                    <button @click="goToLibrary()" class="btn btn-secondary">üçæ Alkohole</button>
                    <button @click="goToDrinkLibrary()" class="btn btn-secondary">üç∏ Przepisy na Drinki</button>
                    <button @click="goToBottleLibrary()" class="btn btn-secondary">üç∫ Butelki</button>
                    <button @click="goToDrinkMap()" class="btn btn-secondary">üó∫Ô∏è Mapa Drink√≥w</button>
                    <button class="btn btn-secondary">
                        <a href="https://szyszy04.github.io/Manual_Quiz/" target="_blank">üß† Quizy</a>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mapa drink√≥w -->
        <div v-if="currentScreen === 'drink-map'" class="screen">
            <div class="container">
                <h2>Mapa Drink√≥w</h2>
                <p class="subtitle">Podobne drinki pogrupowane wed≈Çug sk≈Çadnik√≥w</p>

                <!-- Zak≈Çadki -->
                <div class="map-tabs">
                    <button @click="selectMapTab('grupy')" 
                            :class="{ 'tab-active': selectedMapTab === 'grupy' }"
                            class="map-tab-button">
                        üìä Grupy sk≈Çadnik√≥w
                    </button>
                    <button @click="selectMapTab('szklo')" 
                            :class="{ 'tab-active': selectedMapTab === 'szklo' }"
                            class="map-tab-button">
                        üç∑ Szk≈Ço
                    </button>
                </div>

                <!-- Zawarto≈õƒá zak≈Çadki Grupy -->
                <div v-if="selectedMapTab === 'grupy'" class="drink-groups">
                    <div v-for="group in drinkGroups" :key="group.name" class="drink-group">
                        <div class="group-header">
                            <h3 class="group-title">{{ group.icon }} {{ group.name }}</h3>
                            <span class="group-count">({{ group.drinks.length }} drink√≥w)</span>
                        </div>
                        <div class="drinks-grid">
                            <div v-for="drink in group.drinks" :key="drink.name" class="drink-card">
                                <h4 class="drink-title">{{ drink.name }}</h4>
                                <div class="ingredients-container">
                                    <div v-for="ingredient in drink.commonIngredients" :key="ingredient"
                                         class="ingredient common-ingredient">{{ ingredient }}</div>
                                    <div v-for="ingredient in drink.specificIngredients" :key="ingredient"
                                         class="ingredient specific-ingredient">{{ ingredient }}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                                <!-- Zawarto≈õƒá zak≈Çadki Szk≈Ço -->
                <div v-if="selectedMapTab === 'szklo'" class="glass-tab-content">
                    <!-- NOWY: Selektor rodzaju alkoholu -->
                    <div class="alcohol-filter-selector">
                        <h3>Wybierz rodzaj alkoholu:</h3>
                        <div class="alcohol-filter-buttons">
                            <button v-for="alcoholType in alcoholTypes" 
                                    :key="alcoholType"
                                    @click="selectAlcoholFilter(alcoholType)"
                                    :class="{ 'filter-active': selectedAlcoholFilter === alcoholType }"
                                    class="alcohol-filter-button">
                                {{ alcoholType }}
                            </button>
                        </div>
                    </div>

                    <div class="glass-types-selector">
                        <h3>Wybierz typ szk≈Ça:</h3>
                        <p class="filter-info" v-if="selectedAlcoholFilter !== 'Wszystkie'">
                            Szk≈Ça dla drink√≥w z: <strong>{{ selectedAlcoholFilter }}</strong>
                        </p>
                        <div class="glass-buttons">
                            <button v-for="glassType in glassTypes" 
                                    :key="glassType"
                                    @click="selectGlassType(glassType)"
                                    :class="{ 'glass-active': selectedGlassType === glassType }"
                                    class="glass-button">
                                {{ glassType }} ({{ (drinksByGlass[glassType] || []).length }})
                            </button>
                        </div>
                    </div>

                    <div class="glass-drinks-section" v-if="currentGlassDrinks.length > 0">
                        <h3>{{ selectedGlassType }}</h3>
                        <p class="glass-count">{{ currentGlassDrinks.length }} drink√≥w</p>
                        <p class="alcohol-filter-info" v-if="selectedAlcoholFilter !== 'Wszystkie'">
                            Filtrowane wed≈Çug: <strong>{{ selectedAlcoholFilter }}</strong>
                        </p>

                        <div class="glass-drinks-list">
                            <div v-for="drink in currentGlassDrinks" 
                                 :key="drink.name" 
                                 class="glass-drink-item">
                                <h4 class="drink-name">{{ drink.name }}</h4>
                                <span class="drink-category">{{ drink.category }}</span>
                                <span class="drink-alcohol-type">{{ drink.alcoholType }}</span>
                                <div class="drink-ingredients">
                                    <span v-for="ingredient in drink.ingredients" 
                                          :key="ingredient"
                                          class="ingredient-tag">
                                        {{ ingredient }}
                                    </span>
                                </div>
                                <div v-if="drink.decoration" class="drink-decoration">
                                    <strong>Dekoracja:</strong> {{ drink.decoration }}
                                </div>
                            </div>
                        </div>
                    </div>

                    <div v-else class="no-drinks-message">
                        <p>Brak drink√≥w dla wybranych kryteri√≥w</p>
                    </div>
                </div><div class="actions">
                    <button @click="goToStart()" class="btn btn-secondary">Powr√≥t do Menu</button>
                </div>
            </div>
        </div>

        <!-- Biblioteka alkoholi -->
        <div v-if="currentScreen === 'library'" class="screen">
            <div class="container">
                <h2>Biblioteka Alkoholi</h2>
                <div class="library-navigation">
                    <div class="categories-nav">
                        <button v-for="category in libraryCategories" :key="category"
                                @click="selectLibraryCategory(category)"
                                :class="{ 'active': selectedLibraryCategory === category }" class="category-btn">
                            {{ category }}
                        </button>
                    </div>
                </div>

                <div class="library-content">
                    <div v-for="item in currentLibraryItems" :key="item.name" class="library-item">
                        <h3>{{ item.name }}</h3>

                        <div v-if="selectedLibraryCategory === 'Szkockie Single Malty'" class="spirit-details">
                            <div class="detail-section">
                                <strong>Pochodzenie:</strong> {{ item.origin }}
                            </div>
                            <div class="detail-section">
                                <strong>Beczki:</strong> {{ item.barrel }}
                            </div>
                            <div class="detail-section" v-if="item.facts">
                                <strong>Ciekawostki:</strong>
                                <ul v-if="Array.isArray(item.facts)">
                                    <li v-for="fact in item.facts" :key="fact">{{ fact }}</li>
                                </ul>
                                <p v-else>{{ item.facts }}</p>
                            </div>
                            <div class="detail-section">
                                <strong>Aromat:</strong> {{ item.aromatic }}
                            </div>
                            <div class="detail-section">
                                <strong>Smak:</strong> {{ item.flavor }}
                            </div>
                        </div>

                        <div v-else-if="selectedLibraryCategory === 'Rumy'" class="spirit-details">
                            <div class="detail-section">
                                <strong>Kraj pochodzenia:</strong> {{ item.country }}
                            </div>
                            <div class="detail-section">
                                <strong>Lata le≈ºakowania:</strong> {{ item.aging }}
                            </div>
                            <div class="detail-section">
                                <strong>Ciekawostki:</strong> {{ item.facts }}
                            </div>
                            <div class="detail-section">
                                <strong>Aromat:</strong> {{ item.aroma }}
                            </div>
                            <div class="detail-section">
                                <strong>Smak:</strong> {{ item.flavor }}
                            </div>
                        </div>

                        <div v-else-if="selectedLibraryCategory === 'Tequila'" class="spirit-details">
                            <div class="detail-section">
                                <strong>Lata starzenia:</strong> {{ item.aging }}
                            </div>
                            <div class="detail-section">
                                <strong>Charakterystyka/Ciekawostki:</strong> {{ item.characteristics }}
                            </div>
                            <div class="detail-section">
                                <strong>Aromat:</strong> {{ item.aroma }}
                            </div>
                            <div class="detail-section">
                                <strong>Smak:</strong> {{ item.flavor }}
                            </div>
                        </div>

                        <div v-else-if="selectedLibraryCategory === 'Ameryka≈Ñskie Whiskey'" class="spirit-details">
                            <div class="detail-section">
                                <strong>Styl:</strong> {{ item.style }}
                            </div>
                            <div class="detail-section">
                                <strong>Beczki:</strong> {{ item.barrels }}
                            </div>
                            <div class="detail-section">
                                <strong>Czas starzenia:</strong> {{ item.aging }}
                            </div>
                            <div class="detail-section">
                                <strong>Ciekawostki:</strong> {{ item.facts }}
                            </div>
                            <div class="detail-section">
                                <strong>Aromat:</strong> {{ item.aroma }}
                            </div>
                            <div class="detail-section">
                                <strong>Smak:</strong> {{ item.flavor }}
                            </div>
                        </div>

                        <div v-else class="spirit-details">
                            <p>{{ item.description }}</p>
                        </div>
                    </div>
                </div>

                <div class="actions">
                    <button @click="goToStart()" class="btn btn-secondary">Powr√≥t do menu</button>
                </div>
            </div>
        </div>

        <!-- Biblioteka drink√≥w -->
        <div v-if="currentScreen === 'drink-library'" class="screen">
            <div class="container">
                <h2>Biblioteka Drink√≥w</h2>

                <div class="library-navigation">
                    <div class="categories-nav">
                        <button v-for="category in drinkCategories" :key="category"
                                @click="selectDrinkCategory(category)"
                                :class="{ 'active': selectedDrinkCategory === category }" class="category-btn">
                            {{ category }}
                        </button>
                    </div>
                </div>

                <div class="drinks-grid">
                    <div v-for="drink in currentDrinkItems" :key="drink.name" class="drink-card"
                         :class="{ 'hidden': isDrinkHidden(drink.name) }" @click="toggleDrinkVisibility(drink.name)">

                        <h3>{{ drink.name }}</h3>
                        <div class="glass-info">{{ drink.glass }}</div>

                        <div v-if="!isDrinkHidden(drink.name)" class="drink-details">
                            <div class="ingredients">
                                <h4>Sk≈Çadniki:</h4>
                                <ul>
                                    <li v-for="ingredient in drink.ingredients" :key="ingredient">{{ ingredient }}</li>
                                </ul>
                            </div>

                            <div class="method">
                                <h4>Przygotowanie:</h4>
                                <ol>
                                    <li v-for="step in drink.method" :key="step">{{ step }}</li>
                                </ol>
                            </div>

                            <div v-if="drink.decoration" class="decoration">
                                <h4>Dekoracja:</h4>
                                <p>{{ drink.decoration }}</p>
                            </div>
                        </div>

                        <div v-else class="hidden-state">
                            Kliknij aby pokazaƒá sk≈Çadniki i przepis
                        </div>
                    </div>
                </div>

                <div class="actions">
                    <button @click="goToStart()" class="btn btn-secondary">Powr√≥t do menu</button>
                </div>
            </div>
        </div>

        <!-- Biblioteka butelek -->
        <div v-if="currentScreen === 'bottle-library'" class="screen">
            <div class="container">
                <h2>Biblioteka Butelek</h2>

                <div class="library-navigation">
                    <div class="categories-nav">
                        <button v-for="category in bottleLibraryCategories" :key="category"
                                @click="selectBottleCategory(category)"
                                :class="{ 'active': selectedBottleCategory === category }" class="category-btn">
                            {{ category }}
                        </button>
                    </div>
                </div>

                <div class="bottles-list">
                    <div v-for="bottle in currentBottleLibraryItems" :key="bottle" class="bottle-item">
                        {{ bottle }}
                    </div>
                </div>

                <div class="actions">
                    <button @click="goToStart()" class="btn btn-secondary">Powr√≥t do menu</button>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="app.js"></script>
</body>

</html>
